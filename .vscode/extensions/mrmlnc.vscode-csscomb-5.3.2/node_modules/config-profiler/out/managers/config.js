'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
const extend = require("extend");
const debuglog = require("debug");
const types_1 = require("../types");
const debug = debuglog('config-profiler:managers:config');
function prepare(type, path, ctime, config) {
    return { type, path, ctime, config };
}
exports.prepare = prepare;
function build(type, path, config, options) {
    let from = 'settings';
    if (type === types_1.ConfigType.Predefined) {
        from = 'predefined';
    }
    if (type === types_1.ConfigType.File) {
        from = path;
    }
    if (options.extendBuildedConfig) {
        config = extend(true, config, options.extendBuildedConfig);
    }
    const buildedConfig = options.transform({ from, config });
    debug(`Builded config: %o`, buildedConfig);
    return buildedConfig;
}
exports.build = build;
