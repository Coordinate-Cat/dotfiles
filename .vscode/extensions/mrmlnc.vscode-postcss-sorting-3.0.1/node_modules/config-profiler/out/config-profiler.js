'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
const optionsManager = require("./managers/options");
const scannerService = require("./services/scanner");
class ConfigProfiler {
    constructor(workspace, options) {
        this.workspace = workspace;
        this.options = options;
        this.cache = new Map();
        this.options = optionsManager.prepare(options);
    }
    setWorkspace(workspace) {
        this.workspace = workspace;
    }
    setOptions(options) {
        this.options = optionsManager.prepare(options);
    }
    getConfig(filepath, options) {
        options = !options ? this.options : optionsManager.mergeChangeable(this.options, options);
        return scannerService.scan(this.cache, this.workspace, filepath, options);
    }
}
exports.default = ConfigProfiler;
